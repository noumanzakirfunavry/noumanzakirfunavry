"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[76],{5076:(ne,v,r)=>{r.r(v),r.d(v,{AddressesModule:()=>ee});var m=r(9808),L=r(1681),p=r(4521),u=r(6928),e=r(5e3),q=r(8313),C=r(1731),b=r(4138),I=r(5540),A=r(7036),B=r(8036),z=r(9095),h=r(3714),x=r(4471),Z=r(8177),U=r(9997);function F(t,d){1&t&&e._UZ(0,"i",12)}let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["addresses-filter"]],decls:15,vars:5,consts:[[1,"float-right"],[1,"d-flex"],[1,"mr-2"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Publisher","nzSpan","8"],["nzValue","Sample User 1",3,"nzLabel"],["nzValue","Sample User 2",3,"nzLabel"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Status","nzSpan","8"],["nzValue","Active",3,"nzLabel"],["nzValue","InActive",3,"nzLabel"],[3,"nzPrefix"],["nz-input","","placeholder","Search Title","nzSize","small"],["prefiXTemplate",""],["nz-icon","","nzType","search","theme","outline"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"nz-form-item",2),e.TgZ(3,"nz-select",3),e._UZ(4,"nz-option",4),e._UZ(5,"nz-option",5),e.qZA(),e.qZA(),e.TgZ(6,"nz-form-item",2),e.TgZ(7,"nz-select",6),e._UZ(8,"nz-option",7),e._UZ(9,"nz-option",8),e.qZA(),e.qZA(),e.TgZ(10,"nz-form-item"),e.TgZ(11,"nz-input-group",9),e._UZ(12,"input",10),e.qZA(),e.YNc(13,F,1,0,"ng-template",null,11,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&n){const i=e.MAs(14);e.xp6(4),e.Q6J("nzLabel","Sample User 1"),e.xp6(1),e.Q6J("nzLabel","Sample User 2"),e.xp6(3),e.Q6J("nzLabel","Active"),e.xp6(1),e.Q6J("nzLabel","InActive"),e.xp6(2),e.Q6J("nzPrefix",i)}},directives:[z.SK,h.Nx,x.Vq,x.Ip,A.w,Z.gB,Z.ke,Z.Zp,U.Ls],encapsulation:2}),t})();var N=r(1646),a=r(7336),J=r(4259);function O(t,d){1&t&&e._UZ(0,"nz-badge",14)}function k(t,d){1&t&&e._UZ(0,"nz-badge",15)}const _=function(t){return[t]};function P(t,d){if(1&t){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",7),e.NdJ("nzCheckedChange",function(i){const c=e.CHM(n).$implicit;return e.oxw().onItemChecked(null==c?null:c.id,i)}),e._UZ(2,"i",8),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,O,1,0,"nz-badge",9),e.YNc(17,k,1,0,"nz-badge",10),e.qZA(),e.TgZ(18,"td"),e.TgZ(19,"div",11),e._UZ(20,"i",12),e.TgZ(21,"i",13),e.NdJ("click",function(){const l=e.CHM(n).$implicit;return e.oxw().deleteBranch(null==l?null:l.id)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=d.$implicit,s=e.oxw();e.xp6(1),e.Q6J("nzChecked",s.setOfCheckedId.has(null==n?null:n.id))("nzDisabled",n.disabled),e.xp6(3),e.Oqu(null==n?null:n.title),e.xp6(2),e.Oqu(null==n?null:n.phone),e.xp6(2),e.Oqu(null==n?null:n.fax),e.xp6(2),e.Oqu(null==n?null:n.addressLine1),e.xp6(2),e.Oqu(null==n?null:n.addressLine2),e.xp6(2),e.Oqu(null==n?null:n.publishedBy),e.xp6(2),e.Q6J("ngIf",!0===(null==n?null:n.isActive)),e.xp6(1),e.Q6J("ngIf",!1===(null==n?null:n.isActive)),e.xp6(3),e.Q6J("routerLink",e.VKq(11,_,"/addresses/add/"+(null==n?null:n.id)))}}const Q=function(){return["/addresses/add"]};let y=(()=>{class t{constructor(n,s){this.apiService=n,this.message=s,this.pagination={limit:10,pageNo:1},this.indeterminate=!1,this.checked=!1,this.loading=!0,this.setOfCheckedId=new Set,this.listOfCurrentPageData=[]}ngOnInit(){this.getAllBranches()}getAllBranches(){this.apiService.sendRequest(u.E.getAllBranches,"get",this.pagination).subscribe(n=>{this.allBranches=n.response.branches,console.log("ALL-BRANCHES",this.allBranches),this.loading=!1})}deleteBranch(n){this.apiService.sendRequest(u.E.deleteBranches,"delete",{ids:[n]}).subscribe(s=>{console.log("DELETE-BRANCH",s),this.getAllBranches(),this.message.create("success","Address Deleted Successfully")})}updateCheckedSet(n,s){s?this.setOfCheckedId.add(n):this.setOfCheckedId.delete(n)}onItemChecked(n,s){this.updateCheckedSet(n,s),this.refreshCheckedStatus()}refreshCheckedStatus(){const n=this.listOfCurrentPageData.filter(({disabled:s})=>!s);this.checked=n.every(({id:s})=>this.setOfCheckedId.has(s)),this.indeterminate=n.some(({id:s})=>this.setOfCheckedId.has(s))&&!this.checked}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(q.s),e.Y36(C.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-addresses"]],decls:32,vars:7,consts:[[1,"row"],[1,"col-md-2"],["nz-button","",3,"nzType","routerLink"],[1,"col-md-10"],[1,"col-lg-12","mt-3"],["nzShowSizeChanger","",1,"no-border-last",3,"nzShowPagination","nzLoading","nzData"],[4,"ngFor","ngForOf"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nz-icon","","nzType","drag","nzTheme","outline"],["nzStatus","success",4,"ngIf"],["nzStatus","error",4,"ngIf"],[1,"d-flex","justify-content-between"],["nz-icon","","nzType","edit","nzTheme","outline",3,"routerLink"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],["nzStatus","success"],["nzStatus","error"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e._uU(3,"Add Addresses"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"addresses-filter"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"nz-card"),e.TgZ(8,"div"),e.TgZ(9,"nz-table",5),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Reorder "),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Title "),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Phone"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Fax"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Addresses Line 1"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Addresses Line 2"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Publisher"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,P,22,13,"tr",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("nzType","primary")("routerLink",e.DdM(6,Q)),e.xp6(7),e.Q6J("nzShowPagination",!0)("nzLoading",s.loading)("nzData",s.allBranches),e.xp6(22),e.Q6J("ngForOf",s.allBranches))},directives:[b.ix,I.dQ,A.w,p.rH,B.QV,E,N.bd,a.N8,a.Om,a.$Z,a.Uo,a._C,a.p0,m.sg,a.h7,U.Ls,m.O5,J.x7],encapsulation:2}),t})();var o=r(2382),R=r(1575),D=r(2998);function M(t,d){1&t&&(e.TgZ(0,"button",24),e._uU(1,"Save"),e.qZA())}function Y(t,d){1&t&&(e.TgZ(0,"button",24),e._uU(1,"Update"),e.qZA())}let S=(()=>{class t{constructor(n,s,i,l){this.fb=n,this.apiService=s,this.activatedRoute=i,this.message=l}ngOnInit(){this.addressForm=this.fb.group({title:[null,[o.kI.required]],phone:[null,[o.kI.required,o.kI.pattern("^[0-9]*$")]],fax:[null,[o.kI.required,o.kI.pattern("^[0-9]*$")]],addressLine1:[null,[o.kI.required]],addressLine2:[null,[o.kI.required]],email:[null,[o.kI.email,o.kI.required]],isActive:[!1]}),this.activatedRoute.paramMap.subscribe(n=>{this.branchId=+n.get("id"),this.branchId&&this.getBranchById()})}branches(){for(const n in this.addressForm.controls)this.addressForm.controls[n].markAsDirty(),this.addressForm.controls[n].updateValueAndValidity();if(this.addressForm.valid){const n=this.addressForm.value;n.zipCode="12345",this.apiService.sendRequest(this.branchId?u.E.updateBranch+this.branchId:u.E.addNewBranch,this.branchId?"put":"post",n).subscribe(s=>{console.log("BRANCHES",s),this.addressForm.reset(),this.message.create("success",this.branchId?"Address Updated Successfully":"Address Added Successfully")})}}getBranchById(){this.apiService.sendRequest(u.E.getBranchById+this.branchId,"get").subscribe(n=>{var s,i,l,c,g,f,T;this.branchById=n.response.branch,console.log("BRANCH-BY-ID",this.branchById),this.addressForm=this.fb.group({title:[(null===(s=this.branchById)||void 0===s?void 0:s.title)||null,[o.kI.required]],phone:[(null===(i=this.branchById)||void 0===i?void 0:i.phone)||null,[o.kI.required,o.kI.pattern("^[0-9]*$")]],fax:[(null===(l=this.branchById)||void 0===l?void 0:l.fax)||null,[o.kI.required,o.kI.pattern("^[0-9]*$")]],addressLine1:[(null===(c=this.branchById)||void 0===c?void 0:c.addressLine1)||null,[o.kI.required]],addressLine2:[(null===(g=this.branchById)||void 0===g?void 0:g.addressLine2)||null,[o.kI.required]],email:[(null===(f=this.branchById)||void 0===f?void 0:f.email)||null,[o.kI.email,o.kI.required]],isActive:[(null===(T=this.branchById)||void 0===T?void 0:T.isActive)||!1]})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(q.s),e.Y36(p.gz),e.Y36(C.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-addAddresses"]],decls:54,vars:5,consts:[[1,"col-12"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],[1,"row"],[1,"col-6"],[1,"col-md-12"],["nzRequired","","nzFor","text"],["nzErrorTip","Please input Title!"],["nz-input","","formControlName","title","placeholder","Enter Title","dir","rtl"],[1,"col-md-6"],["nzRequired","","nzFor","phone"],["nzErrorTip","Please input correct Phone Number!",3,"nzValidateStatus"],["type","text","nz-input","","formControlName","phone","placeholder","Enter Phone"],["nzRequired",""],["nzErrorTip","Please input correct Fax!"],["type","text","nz-input","","formControlName","fax","placeholder","Enter Fax"],["nzErrorTip","Please input Address Line 1!"],["type","text","nz-input","","formControlName","addressLine1","placeholder","Enter Address"],["nzErrorTip","Please input Address Line 2!"],["type","text","nz-input","","formControlName","addressLine2","placeholder","Enter Address"],["nzRequired","","nzFor","email"],["nzErrorTip","Please input valid Email!"],["nz-input","","formControlName","email","placeholder","Enter Email"],["formControlName","isActive",1,"mr-3"],["class","mr-3","nz-button","","nzType","primary",4,"ngIf"],["nz-button","","nzType","primary",1,"mr-3"]],template:function(n,s){1&n&&(e.TgZ(0,"section"),e._UZ(1,"br"),e._UZ(2,"br"),e.TgZ(3,"div",0),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return s.branches()}),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",2),e.TgZ(8,"div",4),e.TgZ(9,"nz-form-item"),e.TgZ(10,"nz-form-label",5),e._uU(11,"Title"),e.qZA(),e.TgZ(12,"nz-form-control",6),e._UZ(13,"input",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"nz-form-item"),e.TgZ(16,"nz-form-label",9),e._uU(17,"Phone "),e.qZA(),e.TgZ(18,"nz-form-control",10),e._UZ(19,"input",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",12),e._uU(23,"Fax"),e.qZA(),e.TgZ(24,"nz-form-control",13),e._UZ(25,"input",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",8),e.TgZ(27,"nz-form-item"),e.TgZ(28,"nz-form-label",12),e._uU(29,"Address Line 1 "),e.qZA(),e.TgZ(30,"nz-form-control",15),e._UZ(31,"input",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"nz-form-item"),e.TgZ(34,"nz-form-label",12),e._uU(35,"Address Line 2"),e.qZA(),e.TgZ(36,"nz-form-control",17),e._UZ(37,"input",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",4),e.TgZ(39,"nz-form-item"),e.TgZ(40,"nz-form-label",19),e._uU(41,"Email"),e.qZA(),e.TgZ(42,"nz-form-control",20),e._UZ(43,"input",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",4),e.TgZ(45,"nz-form-item"),e.TgZ(46,"nz-form-control"),e._UZ(47,"nz-switch",22),e._uU(48," Active "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",4),e.TgZ(50,"nz-form-item"),e.TgZ(51,"nz-form-control"),e.YNc(52,M,2,0,"button",23),e.YNc(53,Y,2,0,"button",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",s.addressForm)("nzLayout","vertical"),e.xp6(14),e.Q6J("nzValidateStatus",s.addressForm.controls.phone),e.xp6(34),e.Q6J("ngIf",!s.branchId),e.xp6(1),e.Q6J("ngIf",s.branchId))},directives:[o._Y,o.JL,h.Lr,o.sg,z.SK,h.Nx,z.t3,h.iK,h.Fd,Z.Zp,o.Fj,o.JJ,o.u,R.Lv,D.i,m.O5,b.ix,I.dQ,A.w],styles:["[nz-form][_ngcontent-%COMP%]:not(.ant-form-inline):not(.ant-form-vertical){max-width:600px}"]}),t})();const V=[{path:"",component:y,data:{title:"Addresses",headerDisplay:"none"}},{path:"list",component:y,data:{title:"All Addresses"}},{path:"add",component:S,data:{title:"Add Address"}},{path:"add/:id",component:S,data:{title:"Update Address"}}];let H=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),t})();var $=r(8732),j=r(5820),X=r(722),K=r(6163),G=r(3295),W=r(520),w=r(287);let ee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[$.w,{provide:W.TP,useClass:w.s,multi:!0}],imports:[[m.ez,L.m,H,o.UX,o.u5,...K.v,G.l,X.fi.forRoot(),j.cS]]}),t})()}}]);