"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[92],{9092:(it,A,o)=>{o.r(A),o.d(A,{TagsModule:()=>rt});var u=o(9808),L=o(1681),m=o(4521),r=o(2382),g=o(6928),t=o(5e3),C=o(8313),d=o(3714),z=o(9095),c=o(8177),Q=o(1575),x=o(2998),p=o(4138),S=o(5540),h=o(7036);let y=(()=>{class e{constructor(n,a,i){this.fb=n,this.apiService=a,this.activatedRoute=i}ngOnInit(){this.tagsForm=this.fb.group({title:[null,[r.kI.required]],isActive:[!1]}),this.activatedRoute.paramMap.subscribe(n=>{this.tagId=+n.get("id"),this.tagId&&this.getTagById()})}tags(){for(const n in this.tagsForm.controls)this.tagsForm.controls[n].markAsDirty(),this.tagsForm.controls[n].updateValueAndValidity();this.tagsForm.valid&&this.apiService.sendRequest(this.tagId?g.E.updateTag+this.tagId:g.E.addNewTag,this.tagId?"put":"post",this.tagsForm.value).subscribe(n=>{console.log("TAGS",n),this.tagsForm.reset()})}getTagById(){this.apiService.sendRequest(g.E.getTagById+this.tagId,"get").subscribe(n=>{var a,i;this.tagById=n.tags,console.log("TAG-BY-ID",this.tagById),this.tagsForm=this.fb.group({title:[(null===(a=this.tagById)||void 0===a?void 0:a.title)||null,[r.kI.required]],isActive:[(null===(i=this.tagById)||void 0===i?void 0:i.isActive)||!1]})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(C.s),t.Y36(m.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-addTag"]],decls:18,vars:7,consts:[[1,"col-12"],["nz-form","",1,"tags-form",3,"formGroup","nzLayout","ngSubmit"],["nzRequired","","nzFor","text",3,"nzSpan"],["nzErrorTip","Please input your Title!",3,"nzSpan"],["nz-input","","formControlName","title","placeholder","Enter Title","dir","rtl"],[3,"nzSpan"],["formControlName","isActive",1,"mr-3"],["nz-button","",1,"tags-form-button","mr-3",3,"nzType"]],template:function(n,a){1&n&&(t.TgZ(0,"section"),t._UZ(1,"br"),t._UZ(2,"br"),t.TgZ(3,"div",0),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.tags()}),t.TgZ(5,"nz-form-item"),t.TgZ(6,"nz-form-label",2),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"nz-form-control",3),t._UZ(9,"input",4),t.qZA(),t.qZA(),t.TgZ(10,"nz-form-item"),t.TgZ(11,"nz-form-control",5),t._UZ(12,"nz-switch",6),t._uU(13," Active "),t.qZA(),t.qZA(),t.TgZ(14,"nz-form-item"),t.TgZ(15,"nz-form-control",5),t.TgZ(16,"button",7),t._uU(17,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.Q6J("formGroup",a.tagsForm)("nzLayout","vertical"),t.xp6(2),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("nzSpan",14),t.xp6(3),t.Q6J("nzSpan",14),t.xp6(4),t.Q6J("nzSpan",14),t.xp6(1),t.Q6J("nzType","primary"))},directives:[r._Y,r.JL,d.Lr,r.sg,z.SK,d.Nx,z.t3,d.iK,d.Fd,c.Zp,r.Fj,r.JJ,r.u,Q.Lv,x.i,p.ix,S.dQ,h.w],styles:["[nz-form][_ngcontent-%COMP%]:not(.ant-form-inline):not(.ant-form-vertical){max-width:600px}"]}),e})();var b=o(8036),T=o(4471),Z=o(9997);function O(e,s){1&e&&t._UZ(0,"i",12)}let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["tag-filter"]],decls:15,vars:5,consts:[[1,"float-right"],[1,"d-flex"],[1,"mr-2"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Publisher","nzSpan","8"],["nzValue","Sample User 1",3,"nzLabel"],["nzValue","Sample User 2",3,"nzLabel"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Status","nzSpan","8"],["nzValue","Active",3,"nzLabel"],["nzValue","InActive",3,"nzLabel"],[3,"nzPrefix"],["nz-input","","placeholder","Search Title","nzSize","small"],["prefiXTemplate",""],["nz-icon","","nzType","search","theme","outline"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"nz-form-item",2),t.TgZ(3,"nz-select",3),t._UZ(4,"nz-option",4),t._UZ(5,"nz-option",5),t.qZA(),t.qZA(),t.TgZ(6,"nz-form-item",2),t.TgZ(7,"nz-select",6),t._UZ(8,"nz-option",7),t._UZ(9,"nz-option",8),t.qZA(),t.qZA(),t.TgZ(10,"nz-form-item"),t.TgZ(11,"nz-input-group",9),t._UZ(12,"input",10),t.qZA(),t.YNc(13,O,1,0,"ng-template",null,11,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const i=t.MAs(14);t.xp6(4),t.Q6J("nzLabel","Sample User 1"),t.xp6(1),t.Q6J("nzLabel","Sample User 2"),t.xp6(3),t.Q6J("nzLabel","Active"),t.xp6(1),t.Q6J("nzLabel","InActive"),t.xp6(2),t.Q6J("nzPrefix",i)}},directives:[z.SK,d.Nx,T.Vq,T.Ip,h.w,c.gB,c.ke,c.Zp,Z.Ls],encapsulation:2}),e})();var U=o(1646),l=o(7336),I=o(4259);function M(e,s){1&e&&t._UZ(0,"nz-badge",13)}function Y(e,s){1&e&&t._UZ(0,"nz-badge",14)}const B=function(e){return[e]};function N(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",7),t.NdJ("nzCheckedChange",function(i){const v=t.CHM(n).$implicit;return t.oxw().onItemChecked(null==v?null:v.id,i)}),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.YNc(12,M,1,0,"nz-badge",8),t.YNc(13,Y,1,0,"nz-badge",9),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"div",10),t._UZ(16,"i",11),t.TgZ(17,"i",12),t.NdJ("click",function(){const f=t.CHM(n).$implicit;return t.oxw().deleteTags(null==f?null:f.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=s.$implicit,a=t.oxw();t.xp6(1),t.Q6J("nzChecked",a.setOfCheckedId.has(null==n?null:n.id))("nzDisabled",null==n?null:n.disabled),t.xp6(1),t.Oqu(null==n?null:n.title),t.xp6(2),t.Oqu(t.xi3(5,9,null==n?null:n.createdAt,"dd-MM-YYYY")),t.xp6(3),t.Oqu(t.xi3(8,12,null==n?null:n.updatedAt,"dd-MM-YYYY")),t.xp6(3),t.Oqu(null==n?null:n.publishedBy),t.xp6(2),t.Q6J("ngIf",!0===(null==n?null:n.isActive)),t.xp6(1),t.Q6J("ngIf",!1===(null==n?null:n.isActive)),t.xp6(3),t.Q6J("routerLink",t.VKq(15,B,"/tags/add/"+(null==n?null:n.id)))}}const P=function(){return["/tags/add"]};let F=(()=>{class e{constructor(n){this.apiService=n,this.pagination={limit:10,pageNo:1},this.indeterminate=!1,this.checked=!1,this.setOfCheckedId=new Set,this.listOfCurrentPageData=[]}ngOnInit(){this.getAllTags()}getAllTags(){this.apiService.sendRequest(g.E.getAllTags,"get",this.pagination).subscribe(n=>{this.allTags=n.tags,console.log("ALL-TAGS",this.allTags)})}updateCheckedSet(n,a){a?this.setOfCheckedId.add(n):this.setOfCheckedId.delete(n)}onItemChecked(n,a){this.updateCheckedSet(n,a),this.refreshCheckedStatus()}refreshCheckedStatus(){const n=this.listOfCurrentPageData.filter(({disabled:a})=>!a);this.checked=n.every(({id:a})=>this.setOfCheckedId.has(a)),this.indeterminate=n.some(({id:a})=>this.setOfCheckedId.has(a))&&!this.checked}deleteTags(n){this.apiService.sendRequest(g.E.deleteTags+n,"delete").subscribe(a=>{console.log("DELETE-TAG",a),this.getAllTags()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tags"]],decls:26,vars:5,consts:[[1,"row"],[1,"col-md-2"],["nz-button","",3,"nzType","routerLink"],[1,"col-md-10"],[1,"col-lg-12","mt-3"],[1,"no-border-last",3,"nzShowPagination"],[4,"ngFor","ngForOf"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nzStatus","success",4,"ngIf"],["nzStatus","error",4,"ngIf"],[1,"d-flex","justify-content-between"],["nz-icon","","nzType","edit","nzTheme","outline",3,"routerLink"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],["nzStatus","success"],["nzStatus","error"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t._uU(3,"Add Tag"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"tag-filter"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nz-card"),t.TgZ(8,"div"),t.TgZ(9,"nz-table",5),t.TgZ(10,"thead"),t.TgZ(11,"tr"),t.TgZ(12,"th"),t._uU(13,"Title"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Created"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Modified"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Publisher"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Status"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"tbody"),t.YNc(25,N,18,17,"tr",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("nzType","primary")("routerLink",t.DdM(4,P)),t.xp6(7),t.Q6J("nzShowPagination",!0),t.xp6(16),t.Q6J("ngForOf",a.allTags))},directives:[p.ix,S.dQ,h.w,m.rH,b.QV,q,U.bd,l.N8,l.Om,l.$Z,l.Uo,l._C,l.p0,u.sg,l.h7,u.O5,Z.Ls,I.x7],pipes:[u.uU],encapsulation:2}),e})();const E=[{path:"",component:F,data:{title:"Tags"}},{path:"list",component:F,data:{title:"Tags"}},{path:"add",component:y,data:{title:"Add Tag"}},{path:"add/:id",component:y,data:{title:"Update Tag"}}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(E)],m.Bz]}),e})();var V=o(3490),D=o(8732),H=o(7948),G=o(9908),X=o(1193),j=o(2192),K=o(285),$=o(2091),W=o(2553),k=o(6771),w=o(4592),_=o(1863),J=o(8466),tt=o(8809),nt=o(6586),et=o(1539),ot=o(8763),at=o(1235);const st=[p.sL,U.vh,H.Rt,G.Ju,I.mS,X.W,j.aF,l.HQ,K.b1,$.FT,W.we,k.X,w.Ph,_.RQ,J.cg,tt.Wr,d.U5,x.m,r.u5,c.o7,T.LV,et.Fs,ot.Z,at.Hb,Z.PV,J.cg,p.sL];let rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[D.w],imports:[[u.ez,L.m,R,V.Do,r.UX,r.u5,...st,nt.l]]}),e})()}}]);