"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[512],{2512:(X,A,r)=>{r.r(A),r.d(A,{CategoryModule:()=>G});var c=r(9808),U=r(1681),m=r(4521),z=r(2260),p=r(6928),e=r(5e3),T=r(8313),v=r(1731),x=r(4138),S=r(5540),y=r(7036),f=r(9095),u=r(3714),Z=r(4471),C=r(8177),I=r(9997);function _(n,a){1&n&&e._UZ(0,"i",15)}let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filter"]],decls:19,vars:7,consts:[[1,"float-right"],[1,"d-flex"],[1,"mr-2"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Parent Category","nzSpan","8"],["nzValue","Category 1",3,"nzLabel"],["nzValue","Category 2",3,"nzLabel"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Publisher","nzSpan","8"],["nzValue","Sample User 1",3,"nzLabel"],["nzValue","Sample User 2",3,"nzLabel"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Status","nzSpan","8"],["nzValue","Active",3,"nzLabel"],["nzValue","InActive",3,"nzLabel"],[3,"nzPrefix"],["nz-input","","placeholder","Search Title","nzSize","small"],["prefiXTemplate",""],["nz-icon","","nzType","search","theme","outline"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"nz-form-item",2),e.TgZ(3,"nz-select",3),e._UZ(4,"nz-option",4),e._UZ(5,"nz-option",5),e.qZA(),e.qZA(),e.TgZ(6,"nz-form-item",2),e.TgZ(7,"nz-select",6),e._UZ(8,"nz-option",7),e._UZ(9,"nz-option",8),e.qZA(),e.qZA(),e.TgZ(10,"nz-form-item",2),e.TgZ(11,"nz-select",9),e._UZ(12,"nz-option",10),e._UZ(13,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-item"),e.TgZ(15,"nz-input-group",12),e._UZ(16,"input",13),e.qZA(),e.YNc(17,_,1,0,"ng-template",null,14,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t){const l=e.MAs(18);e.xp6(4),e.Q6J("nzLabel","Category 1"),e.xp6(1),e.Q6J("nzLabel","Category 2"),e.xp6(3),e.Q6J("nzLabel","Sample User 1"),e.xp6(1),e.Q6J("nzLabel","Sample User 2"),e.xp6(3),e.Q6J("nzLabel","Active"),e.xp6(1),e.Q6J("nzLabel","InActive"),e.xp6(2),e.Q6J("nzPrefix",l)}},directives:[f.SK,u.Nx,Z.Vq,Z.Ip,y.w,C.gB,C.ke,C.Zp,I.Ls],encapsulation:2}),n})();var J=r(1646),d=r(7336),O=r(4259);function M(n,a){1&n&&e._UZ(0,"nz-badge",16)}function F(n,a){1&n&&e._UZ(0,"nz-badge",17)}const P=function(n){return[n]};function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",8),e.TgZ(1,"td",9),e.NdJ("nzCheckedChange",function(l){const g=e.CHM(t).$implicit;return e.oxw().onItemChecked(null==g?null:g.id,l)}),e._UZ(2,"i",10),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,M,1,0,"nz-badge",11),e.YNc(15,F,1,0,"nz-badge",12),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",13),e._UZ(18,"i",14),e.TgZ(19,"i",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteCategories(null==s?null:s.id)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("nzChecked",o.setOfCheckedId.has(null==t?null:t.id)),e.xp6(3),e.Oqu(null==t?null:t.title),e.xp6(2),e.Oqu(e.xi3(7,8,null==t?null:t.createdAt,"dd-MM-YYYY")),e.xp6(3),e.Oqu(e.xi3(10,11,null==t?null:t.updatedAt,"dd-MM-YYYY")),e.xp6(3),e.Oqu(null==t?null:t.publishedBy),e.xp6(2),e.Q6J("ngIf",!0===(null==t?null:t.isActive)),e.xp6(1),e.Q6J("ngIf",!1===(null==t?null:t.isActive)),e.xp6(3),e.Q6J("routerLink",e.VKq(14,P,"/category/add/"+(null==t?null:t.id)))}}const k=function(){return["/category/add"]};let b=(()=>{class n{constructor(t,o){this.apiService=t,this.message=o,this.pagination={limit:10,pageNo:1},this.indeterminate=!1,this.checked=!1,this.loading=!0,this.setOfCheckedId=new Set,this.listOfCurrentPageData=[]}ngOnInit(){this.getAllCategories()}getAllCategories(){this.apiService.sendRequest(p.E.getAllCategories,"get",this.pagination).subscribe(t=>{this.allCategories=t.response.categories,console.log("ALL-CATEGORIES",this.allCategories),this.loading=!1})}deleteCategories(t){this.apiService.sendRequest(p.E.deleteCategories,"delete",{ids:[t]}).subscribe(o=>{console.log("DEL-CATEGORY",o),this.getAllCategories(),this.message.create("success","Category Deleted Successfully")})}updateCheckedSet(t,o){o?this.setOfCheckedId.add(t):this.setOfCheckedId.delete(t)}onItemChecked(t,o){this.updateCheckedSet(t,o),this.refreshCheckedStatus()}refreshCheckedStatus(){const t=this.listOfCurrentPageData.filter(({disabled:o})=>!o);this.checked=t.every(({id:o})=>this.setOfCheckedId.has(o)),this.indeterminate=t.some(({id:o})=>this.setOfCheckedId.has(o))&&!this.checked}drop(t){(0,z.bA)(this.allCategories,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.s),e.Y36(v.dD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category"]],decls:28,vars:7,consts:[[1,"row"],[1,"col-md-2"],["nz-button","",3,"nzType","routerLink"],[1,"wrapper","col-md-10"],[1,"col-lg-12","mt-3"],["cdkDropList","",3,"cdkDropListDropped"],["nzShowSizeChanger","",1,"no-border-last",3,"nzShowPagination","nzLoading","nzData"],["class","category-block","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"category-block"],[3,"nzChecked","nzCheckedChange"],["nz-icon","","nzType","drag","nzTheme","outline"],["nzStatus","success",4,"ngIf"],["nzStatus","error",4,"ngIf"],[1,"d-flex","justify-content-between"],["nz-icon","","nzType","edit","nzTheme","outline",3,"routerLink"],["nz-icon","","nzType","delete","nzTheme","outline",1,"cursor-pointer",3,"click"],["nzStatus","success"],["nzStatus","error"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e._uU(3,"Add Category"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-filter"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"nz-card"),e.TgZ(8,"div",5),e.NdJ("cdkDropListDropped",function(s){return o.drop(s)}),e.TgZ(9,"nz-table",6),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Reorder"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Title"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Created"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Modified"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Publisher"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Status"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,Q,20,16,"tr",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("nzType","primary")("routerLink",e.DdM(6,k)),e.xp6(7),e.Q6J("nzShowPagination",!0)("nzLoading",o.loading)("nzData",o.allCategories),e.xp6(18),e.Q6J("ngForOf",o.allCategories))},directives:[x.ix,S.dQ,y.w,m.rH,L,J.bd,z.Wj,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,c.sg,z.Zt,d.h7,I.Ls,c.O5,O.x7],pipes:[c.uU],styles:[".wrapper[_ngcontent-%COMP%]{margin:25px auto;max-width:600px;text-align:center;padding:0 20px}.category-block[_ngcontent-%COMP%]{cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.category-block[_ngcontent-%COMP%]:last-child{border:none}.movie-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .movie-block[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})();var i=r(2382),D=r(1575),Y=r(2998);function N(n,a){if(1&n&&e._UZ(0,"nz-option",16),2&n){const t=a.$implicit;e.Q6J("nzValue",null==t?null:t.id)("nzLabel",null==t?null:t.title)}}function E(n,a){1&n&&(e.TgZ(0,"button",17),e._uU(1,"Save"),e.qZA())}function R(n,a){1&n&&(e.TgZ(0,"button",17),e._uU(1,"Update"),e.qZA())}let q=(()=>{class n{constructor(t,o,l,s){this.fb=t,this.apiService=o,this.message=l,this.activatedRoute=s,this.pagination={limit:1e3,pageNo:1}}ngOnInit(){this.getAllCategories(),this.categoryForm=this.fb.group({title:[null,[i.kI.required]],parentCategoryId:[null,[i.kI.required]],isActive:[!1],displayInCategoryMenu:[!1],displayInHomePage:[!1]}),this.activatedRoute.paramMap.subscribe(t=>{this.categoryId=+t.get("id"),this.categoryId&&this.getCategoryById()})}categories(){for(const t in this.categoryForm.controls)this.categoryForm.controls[t].markAsDirty(),this.categoryForm.controls[t].updateValueAndValidity();if(this.categoryForm.valid){const t=this.categoryForm.value;t.parentCategoryId=parseInt(this.categoryForm.value.parentCategoryId),this.apiService.sendRequest(this.categoryId?p.E.updateCategory+this.categoryId:p.E.addCategory,this.categoryId?"put":"post",t).subscribe(o=>{console.log("CATEGORIES",o),this.categoryForm.reset(),this.message.create("success",this.categoryId?"Category Updated Successfully":"Category Added Successfully")})}}getCategoryById(){this.apiService.sendRequest(p.E.getCategoryById+this.categoryId,"get").subscribe(t=>{var o,l,s,g,h;this.categoryById=t.response.category,console.log("CATEGORY-BY-ID",this.categoryById),this.categoryForm=this.fb.group({title:[(null===(o=this.categoryById)||void 0===o?void 0:o.title)||null,[i.kI.required]],parentCategoryId:[(null===(l=this.categoryById)||void 0===l?void 0:l.parentCategoryId)||null,[i.kI.required]],isActive:[(null===(s=this.categoryById)||void 0===s?void 0:s.isActive)||!1],displayInCategoryMenu:[(null===(g=this.categoryById)||void 0===g?void 0:g.displayInCategoryMenu)||!1],displayInHomePage:[(null===(h=this.categoryById)||void 0===h?void 0:h.displayInHomePage)||!1]})})}getAllCategories(){this.apiService.sendRequest(p.E.getAllCategories,"get",this.pagination).subscribe(t=>{this.allCategories=t.response.categories,console.log("ALL-CATEGORIES",this.allCategories)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(T.s),e.Y36(v.dD),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addCategory"]],decls:41,vars:13,consts:[[1,"col-12"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],[1,"row"],[1,"col-md-12"],["nzRequired","","nzFor","text",3,"nzSpan"],["nzErrorTip","Please input Title!",3,"nzSpan"],["nz-input","","formControlName","title","placeholder","Enter Title","dir","rtl"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Please select Parent Category!",3,"nzSpan"],["formControlName","parentCategoryId","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Choose Parent Category"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzSpan"],["formControlName","isActive",1,"mr-3"],["formControlName","displayInCategoryMenu",1,"mr-3"],["formControlName","displayInHomePage",1,"mr-3"],["class","mr-3","nz-button","","nzType","primary",4,"ngIf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary",1,"mr-3"]],template:function(t,o){1&t&&(e.TgZ(0,"section"),e._UZ(1,"br"),e._UZ(2,"br"),e.TgZ(3,"div",0),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return o.categories()}),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"div",2),e.TgZ(8,"div",3),e.TgZ(9,"nz-form-item"),e.TgZ(10,"nz-form-label",4),e._uU(11,"Title"),e.qZA(),e.TgZ(12,"nz-form-control",5),e._UZ(13,"input",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",3),e.TgZ(15,"nz-form-item"),e.TgZ(16,"nz-form-label",7),e._uU(17,"Parent Category"),e.qZA(),e.TgZ(18,"nz-form-control",8),e.TgZ(19,"nz-select",9),e.YNc(20,N,1,2,"nz-option",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",3),e.TgZ(22,"nz-form-item"),e.TgZ(23,"nz-form-control",11),e._UZ(24,"nz-switch",12),e._uU(25," Active "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",3),e.TgZ(27,"nz-form-item"),e.TgZ(28,"nz-form-control",11),e._UZ(29,"nz-switch",13),e._uU(30," Display in Category Menu "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",3),e.TgZ(32,"nz-form-item"),e.TgZ(33,"nz-form-control",11),e._UZ(34,"nz-switch",14),e._uU(35," Display in Homepage "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",3),e.TgZ(37,"nz-form-item"),e.TgZ(38,"nz-form-control",11),e.YNc(39,E,2,0,"button",15),e.YNc(40,R,2,0,"button",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.categoryForm)("nzLayout","vertical"),e.xp6(6),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzSpan",14),e.xp6(4),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzSpan",14),e.xp6(2),e.Q6J("ngForOf",o.allCategories),e.xp6(3),e.Q6J("nzSpan",14),e.xp6(5),e.Q6J("nzSpan",14),e.xp6(5),e.Q6J("nzSpan",14),e.xp6(5),e.Q6J("nzSpan",14),e.xp6(1),e.Q6J("ngIf",!o.categoryId),e.xp6(1),e.Q6J("ngIf",o.categoryId))},directives:[i._Y,i.JL,u.Lr,i.sg,f.SK,u.Nx,f.t3,u.iK,u.Fd,C.Zp,i.Fj,i.JJ,i.u,D.Lv,Z.Vq,c.sg,Y.i,c.O5,Z.Ip,x.ix,S.dQ,y.w],encapsulation:2}),n})();const B=[{path:"",component:b,data:{title:"All Categories",headerDisplay:"none"}},{path:"list",component:b,data:{title:"All Categories"}},{path:"add",component:q,data:{title:"Add Category",headerDisplay:"none"}},{path:"add/:id",component:q,data:{title:"Update Category",headerDisplay:"none"}}];let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(B)],m.Bz]}),n})();var w=r(3490),H=r(8732),j=r(6163);let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[H.w],imports:[[c.ez,U.m,V,w.Do,i.UX,i.u5,...j.v,z._t]]}),n})()}}]);