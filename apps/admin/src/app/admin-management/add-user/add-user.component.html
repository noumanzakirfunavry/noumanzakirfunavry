<section>
  <br>
  <br>
  <div class="col-12">
    <form nz-form [formGroup]="adminForm" (ngSubmit)="admin()" [nzLayout]="'vertical'">
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-label nzRequired>Admin Name </nz-form-label>
                <nz-form-control nzErrorTip="Please input valid Name between 3 to 250 characters!">
                  <input type="text" nz-input formControlName="name" placeholder="Admin Name">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-label nzRequired>Admin Role</nz-form-label>
                <nz-form-control nzErrorTip="Please select Admin Role!">
                <nz-select nzShowSearch nzAllowClear formControlName="rolesId" nzPlaceHolder="Select Role">
                  <nz-option [nzValue]="3" [nzLabel]="'Super Admin'"></nz-option>
                  <nz-option [nzValue]="1" [nzLabel]="'Admin'"></nz-option>
                </nz-select>
              </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-label nzRequired>Username</nz-form-label>
                <nz-form-control nzErrorTip="Please input valid Username without spaces between 3 to 250 characters!">
                  <nz-form-control>
                    <input type="text" formControlName="userName" nz-input placeholder="Enter Username"/>
                  </nz-form-control>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="col-md-6">

            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-label nzRequired>Password</nz-form-label>
                <nz-form-control nzErrorTip="Please input Password between 6 to 30 characters!">
                  <input type="password" formControlName="password" nz-input placeholder="Enter Password">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-label nzRequired>Confirm Password</nz-form-label>
                <nz-form-control  [nzErrorTip]="errorTpl">
                <input type="password" formControlName="confirmPassword" nz-input placeholder="Confirm Password">
                <ng-template #errorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">
                    Please Confirm Password!
                  </ng-container>
                  <ng-container *ngIf="control.hasError('confirm')">
                    Passwords that you enter is Inconsistent!
                  </ng-container>
                </ng-template>
              </nz-form-control>
              </nz-form-item>
            </div>
          </div>

          <nz-form-item>
            <nz-form-label nzRequired nzFor="text">Email</nz-form-label>
            <nz-form-control nzErrorTip="Please input valid Email!">
              <input nz-input formControlName="email" placeholder="Enter Email" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control>
              <nz-switch formControlName="isActive"> </nz-switch> Active
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="col-6">
          <nz-form-label nzRequired><h5>Admin Rights</h5></nz-form-label>
          <nz-checkbox-wrapper style="width: 100%;" (nzOnChange)="log($event)">
              <div nz-col nzSpan="12">
                <label *ngFor="let right of allRights" nz-checkbox [nzValue]="right?.id" formControlName="rights">{{right?.title}}</label>
              </div>
          </nz-checkbox-wrapper>
          <div *ngIf="(!rightsValue || rightsValue.length===0) && submitted===true" style="color: Crimson;">
            Please select atleast one option!
          </div>
        </div>
      </div>
      <nz-form-item>
        <nz-form-control [nzSpan]="14">
          <button *ngIf="!userId" class="mr-3" nz-button nzType="primary">Save</button>
          <button *ngIf="userId" class="mr-3" nz-button nzType="primary">Update</button>
          <button nz-button nzType="default" (click)="cancel()">Cancel</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</section>
